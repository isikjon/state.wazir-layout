<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Wazir Недвижимость - Поиск</title>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
        <link
            href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap"
            rel="stylesheet">
        <link rel="stylesheet" href="assets/scss/main.css">
        <style>
            .bottom-nav {
                box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            }
            .nav-item {
                transition: all 0.2s ease;
            }
            .nav-item.active {
                color: var(--color-primary);
            }
            .nav-item:hover {
                color: var(--color-primary-hover);
            }
            .nav-icons {
                font-size: 1.6rem;
                font-weight: 300;
            }
            .weather-currency {
                font-size: 1.1rem;
                font-weight: 500;
            }
            .weather-icon {
                font-size: 1.4rem;
            }
            .category-tabs {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                background-color: #f9fafb;
                border-bottom: 1px solid #e5e7eb;
                padding: 10px 0;
            }
            .category-tabs::-webkit-scrollbar {
                display: none;
            }
            .category-select {
                width: 100%;
                padding: 10px;
                border: 1px solid #e5e7eb;
                border-radius: 8px;
                font-size: 1rem;
                color: #4b5563;
                background-color: white;
                outline: none;
                border-bottom: 1px solid #e5e7eb;
            }
            .swiper {
                width: 100%;
                height: 220px;
                border-radius: 8px;
                overflow: hidden;
            }
            .swiper-slide img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            .property-card {
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 2px 10px rgba(0,0,0,0.05);
                margin-bottom: 16px;
            }
            .property-info {
                font-size: 1.05rem;
                line-height: 1.5;
                color: #4b5563;
            }
            .property-address {
                font-size: 0.95rem;
                color: #6b7280;
            }
            .property-price {
                font-size: 1.3rem;
                font-weight: 700;
                color: #111827;
            }
            .action-btn {
                flex: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 10px;
                font-size: 1rem;
                font-weight: 500;
                transition: all 0.2s ease;
                border-radius: 0;
            }
            .action-btn i {
                margin-right: 6px;
                font-size: 1.1rem;
            }
            .action-btn.call-btn {
                background-color: #f9fafb;
                color: #4b5563;
                border-right: 1px solid #e5e7eb;
            }
            .action-btn.details-btn {
                background-color: #f9fafb;
                color: #4b5563;
                border-right: 1px solid #e5e7eb;
            }
            .action-btn.tour-btn {
                background-color: #f9fafb;
                color: #4b5563;
            }
            .pagination-dot {
                width: 6px;
                height: 6px;
                background-color: rgba(255,255,255,0.5);
                border-radius: 50%;
                margin: 0 2px;
            }
            .pagination-dot.active {
                background-color: white;
                width: 8px;
                height: 8px;
            }
            .filter-panel {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease;
            }
            .filter-panel.open {
                max-height: 1000px;
                display: block;
            }
            .filter-panel.closed {
                display: none;
            }
            .filter-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px 16px;
                background-color: #fff;
                cursor: pointer;
                border-radius: 8px;
                margin-bottom: 8px;
                font-size: 1.05rem;
                font-weight: 400;
            }
            .applied-filters {
                background-color: #ffedd5;
                color: var(--color-primary);
                padding: 8px 16px;
                border-radius: 8px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 16px;
                font-weight: 400;
                display: none;
            }
            .applied-filters.visible {
                display: flex;
            }
            .price-range {
                height: 6px;
                background: #e5e7eb;
                border-radius: 3px;
                position: relative;
            }
            .price-progress {
                height: 100%;
                background: var(--color-primary);
                position: absolute;
                border-radius: 3px;
            }
            .range-input {
                position: relative;
                margin-top: 24px;
                margin-bottom: 10px;
            }
            .range-input input {
                position: absolute;
                top: -8px;
                height: 6px;
                width: 100%;
                background: none;
                pointer-events: none;
                appearance: none;
            }
            .range-input input::-webkit-slider-thumb {
                height: 24px;
                width: 24px;
                border-radius: 50%;
                pointer-events: auto;
                appearance: none;
                background: white;
                border: 2px solid var(--color-primary);
                box-shadow: 0 1px 3px rgba(0,0,0,0.3);
                cursor: pointer;
            }
            .room-btn {
                padding: 8px 16px;
                border-radius: 4px;
                font-size: 1rem;
                transition: all 0.2s ease;
            }
            .room-btn.active {
                background-color: var(--color-primary);
                color: white;
                border-color: var(--color-primary);
            }
            .checkbox-label {
                font-size: 1rem;
            }
        </style>
    </head>
    <body class="bg-gray-100 font-sans">
        <div class="min-h-screen flex flex-col">
            <!-- Верхний блок: Лого, Погода, Валюта -->
            <header class="bg-white shadow-sm">
                <div class="container mx-auto px-4 py-3">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <img src="assets/img/logo_non.png" alt="Wazir Logo"
                                class="h-10">
                        </div>
                        <div class="flex items-center space-x-6">
                            <div class="flex items-center weather-currency">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    width="22" height="22" viewBox="0 0 24 24"
                                    fill="none" stroke="#f59e0b"
                                    stroke-width="1.75" stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="weather-icon mr-2"><circle cx="12"
                                        cy="12" r="5"></circle><line x1="12"
                                        y1="1" x2="12" y2="3"></line><line
                                        x1="12" y1="21" x2="12"
                                        y2="23"></line><line x1="4.22" y1="4.22"
                                        x2="5.64" y2="5.64"></line><line
                                        x1="18.36" y1="18.36" x2="19.78"
                                        y2="19.78"></line><line x1="1" y1="12"
                                        x2="3" y2="12"></line><line x1="21"
                                        y1="12" x2="23" y2="12"></line><line
                                        x1="4.22" y1="19.78" x2="5.64"
                                        y2="18.36"></line><line x1="18.36"
                                        y1="5.64" x2="19.78"
                                        y2="4.22"></line></svg>
                                <span>+20°</span>
                            </div>
                            <div class="flex items-center weather-currency">
                                <img src="https://flagcdn.com/w20/us.png"
                                    alt="USD" class="h-5 mr-2">
                                <span>69.8</span>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Основное содержимое -->
            <main class="flex-grow pb-20">
                <!-- Категории (табы) -->
                <div class="category-tabs py-2 sticky top-0 z-10 shadow-sm">
                    <div class="container mx-auto px-4">
                        <select class="category-select">
                            <option disabled selected>Выберите
                                категорию</option>
                            <option>Скидки</option>
                            <option>Аренда</option>
                            <option>Продажа</option>
                            <option>Новостройки</option>
                            <option>Коммерческое</option>
                            <option>Ипотека</option>
                        </select>
                    </div>
                </div>

                <!-- Поисковая строка и фильтры -->
                <div class="container mx-auto px-4 mb-4 mt-3">
                    <div class="flex items-center mb-3">
                        <div class="relative flex-1">
                            <input type="text"
                                class="bg-white w-full py-3 pl-10 pr-4 rounded-lg shadow-sm text-base"
                                style="border-bottom: 1px solid #e5e7eb; outline: none;"
                                placeholder="Поиск недвижимости, улица, слова">
                            <i
                                class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                        <button id="filter-toggle"
                            class="ml-2 bg-white p-3 rounded-lg shadow-sm">
                            <i
                                class="fas fa-sliders-h text-gray-600 text-lg"></i>
                        </button>
                    </div>

                    <!-- Индикатор примененных фильтров -->
                    <div id="applied-filters" class="applied-filters">
                        <span>Применены фильтры</span>
                        <button id="reset-all-filters"
                            class="text-red-500 flex items-center">
                            <span>Сбросить</span>
                            <i class="fas fa-times-circle ml-1"></i>
                        </button>
                    </div>

                    <!-- Панель фильтров -->
                    <div class="filter-header" id="filter-header">
                        <span>Фильтры поиска</span>
                        <i class="fas fa-chevron-down text-gray-500"></i>
                    </div>
                    <div id="filter-panel"
                        class="filter-panel bg-white rounded-lg shadow-sm p-4 mb-4">

                        <!-- Цена -->
                        <div class="mb-5 price-block">
                            <label
                                class="block text-base font-medium text-gray-700 mb-2">Цена</label>
                            <div class="price-range mb-6">
                                <div class="price-progress"
                                    style="left: 45%; right: 0%"></div>
                            </div>
                            <div class="range-input">
                                <input type="range" min="0" max="10000000"
                                    value="4522727" class="min-range">
                                <input type="range" min="0" max="10000000"
                                    value="10000000" class="max-range">
                            </div>
                            <div
                                class="flex justify-between text-sm text-gray-700 mt-2 font-medium">
                                <span id="min-price">4 522 727 KGZ</span>
                                <span id="max-price">10 000 000 KGZ</span>
                            </div>
                        </div>

                        <!-- Площадь -->
                        <div class="mb-5">
                            <label
                                class="block text-base font-medium text-gray-700 mb-2">Площадь
                                (м²)</label>
                            <div class="price-range mb-6">
                                <div class="price-progress"
                                    style="left: 0%; right: 0%"></div>
                            </div>
                            <div class="range-input">
                                <input type="range" min="0" max="500" value="0"
                                    class="min-area">
                                <input type="range" min="0" max="500"
                                    value="500" class="max-area">
                            </div>
                            <div
                                class="flex justify-between text-sm text-gray-700 mt-2 font-medium">
                                <span id="min-area">0 м²</span>
                                <span id="max-area">500 м²</span>
                            </div>
                        </div>

                        <!-- Количество комнат -->
                        <div class="mb-5">
                            <label
                                class="block text-base font-medium text-gray-700 mb-2">Количество
                                комнат</label>
                            <div class="flex flex-wrap gap-2">
                                <button
                                    class="room-btn border border-gray-300 text-gray-700">1</button>
                                <button
                                    class="room-btn border border-gray-300 text-gray-700 active">2</button>
                                <button
                                    class="room-btn border border-gray-300 text-gray-700">3</button>
                                <button
                                    class="room-btn border border-gray-300 text-gray-700">4</button>
                                <button
                                    class="room-btn border border-gray-300 text-gray-700">5+</button>
                            </div>
                        </div>

                        <!-- Этаж -->
                        <div class="mb-5">
                            <label
                                class="block text-base font-medium text-gray-700 mb-2">Этаж</label>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label
                                        class="block text-sm text-gray-600 mb-1">От</label>
                                    <select
                                        class="w-full p-3 border border-gray-300 rounded-md text-base">
                                        <option selected>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                </div>
                                <div>
                                    <label
                                        class="block text-sm text-gray-600 mb-1">До</label>
                                    <select
                                        class="w-full p-3 border border-gray-300 rounded-md text-base">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option selected>20</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Дополнительные опции -->
                        <div class="mb-5">
                            <label
                                class="block text-base font-medium text-gray-700 mb-3">Дополнительно</label>
                            <div class="grid grid-cols-2 gap-3">
                                <label class="flex items-center checkbox-label">
                                    <input type="checkbox" class="mr-2 w-5 h-5">
                                    С балконом
                                </label>
                                <label class="flex items-center checkbox-label">
                                    <input type="checkbox" class="mr-2 w-5 h-5"
                                        checked>
                                    С мебелью
                                </label>
                                <label class="flex items-center checkbox-label">
                                    <input type="checkbox" class="mr-2 w-5 h-5">
                                    Ремонт
                                </label>
                                <label class="flex items-center checkbox-label">
                                    <input type="checkbox" class="mr-2 w-5 h-5">
                                    Паркинг
                                </label>
                            </div>
                        </div>

                        <div class="flex space-x-3">
                            <button id="apply-filters"
                                class="btn-primary flex-1 py-3 rounded-lg text-base font-medium">Применить</button>
                            <button id="reset-filters"
                                class="btn-secondary w-1/3 py-3 rounded-lg text-base font-medium">Сбросить</button>
                        </div>
                    </div>
                </div>

                <!-- Объявления -->
                <div class="container mx-auto px-4">
                    <!-- Карточка объявления 1 -->
                    <div class="property-card bg-white mb-5">
                        <div class="relative">
                            <!-- Слайдер изображений -->
                            <div class="swiper property-swiper">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <div class="col-span-1">
                                            <img
                                                src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=400&auto=format&fit=crop"
                                                alt="Квартира"
                                                class="w-full h-full object-cover rounded-l-lg">
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="col-span-1">
                                            <img
                                                src="https://images.unsplash.com/photo-1560184897-ae75f418493e?q=80&w=400&auto=format&fit=crop"
                                                alt="Квартира"
                                                class="w-full h-full object-cover rounded-l-lg">
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="col-span-1">
                                            <img
                                                src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=400&auto=format&fit=crop"
                                                alt="Квартира"
                                                class="w-full h-full object-cover rounded-l-lg">
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-pagination"></div>
                            </div>

                            <!-- Индикатор просмотра фото -->
                            <div
                                class="absolute bottom-3 right-3 bg-black bg-opacity-50 text-white px-3 py-1 rounded text-sm font-medium">
                                1/15
                            </div>
                        </div>

                        <div class="p-4">
                            <div class="mb-2">
                                <h3 class="property-price">2 200 000 KGZ</h3>
                            </div>
                            <div class="property-info mb-1">
                                <p>3-комн.кв • 52 м² • 3/5 этаж</p>
                            </div>
                            <div class="property-address mb-3">
                                <p>г.Ош • ул. Ак-Тилек 21/1</p>
                            </div>

                            <!-- Кнопки действий -->
                            <div class="flex">
                                <a href="tel:+996123456789"
                                    class="action-btn call-btn">
                                    Позвонить
                                </a>
                                <a href="property.html"
                                    class="action-btn details-btn">
                                    Подробно
                                </a>
                                <a href="#" class="action-btn tour-btn">
                                    360° - Тур
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Карточка объявления 2 -->
                    <div class="property-card bg-white mb-5">
                        <div class="relative">
                            <div class="swiper property-swiper">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <div class="col-span-1">
                                            <img
                                                src="https://images.unsplash.com/photo-1565183997392-2f6f122e5912?q=80&w=400&auto=format&fit=crop"
                                                alt="Квартира"
                                                class="w-full h-full object-cover rounded-l-lg">
                                        </div>
                                    </div>
                                    <div class="swiper-slide">
                                        <div class="col-span-1">
                                            <img
                                                src="https://images.unsplash.com/photo-1574362848149-11496d93a7c7?q=80&w=400&auto=format&fit=crop"
                                                alt="Квартира"
                                                class="w-full h-full object-cover rounded-l-lg">
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-pagination"></div>
                            </div>
                            <div
                                class="absolute bottom-3 right-3 bg-black bg-opacity-50 text-white px-3 py-1 rounded text-sm font-medium">
                                1/8
                            </div>
                        </div>

                        <div class="p-4">
                            <div class="mb-2">
                                <h3 class="property-price">3 500 000 KGZ</h3>
                            </div>
                            <div class="property-info mb-1">
                                <p>2-комн.кв • 65 м² • 4/9 этаж</p>
                            </div>
                            <div class="property-address mb-3">
                                <p>г.Ош • ул. Ленина 15</p>
                            </div>

                            <div class="flex">
                                <a href="tel:+996123456789"
                                    class="action-btn call-btn">
                                    Позвонить
                                </a>
                                <a href="property.html"
                                    class="action-btn details-btn">
                                    Подробно
                                </a>
                                <a href="#" class="action-btn tour-btn">
                                    360° - Тур
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Нижняя навигация -->
            <nav
                class="bottom-nav fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10">
                <div class="flex justify-around items-center py-4">
                    <a href="dashboard.html"
                        class="nav-item text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="1.75"
                            stroke-linecap="round" stroke-linejoin="round"
                            class="nav-icons"><path
                                d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline
                                points="9 22 9 12 15 12 15 22"></polyline></svg>
                    </a>
                    <a href="search.html"
                        class="nav-item active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="1.75"
                            stroke-linecap="round" stroke-linejoin="round"
                            class="nav-icons"><circle cx="11" cy="11"
                                r="8"></circle><line x1="21" y1="21" x2="16.65"
                                y2="16.65"></line></svg>
                    </a>
                    <a href="chats.html"
                        class="nav-item text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="1.75"
                            stroke-linecap="round" stroke-linejoin="round"
                            class="nav-icons"><path
                                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    </a>
                    <a href="support.html"
                        class="nav-item text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="1.75"
                            stroke-linecap="round" stroke-linejoin="round"
                            class="nav-icons"><circle cx="12" cy="12"
                                r="10"></circle><path
                                d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line
                                x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                    </a>
                    <a href="profile.html"
                        class="nav-item text-gray-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="1.75"
                            stroke-linecap="round" stroke-linejoin="round"
                            class="nav-icons"><path
                                d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle
                                cx="12" cy="7" r="4"></circle></svg>
                    </a>
                </div>
            </nav>
        </div>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
        <script>
        $(document).ready(function() {
            // Инициализация слайдера
            const propertySwiper = new Swiper('.property-swiper', {
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                loop: true
            });
            
            // Обработка клика по навигационным элементам
            $('.nav-item').on('click', function(e) {
                // Не предотвращаем стандартное поведение, чтобы переходить по ссылкам
                $('.nav-item').removeClass('active').addClass('text-gray-500');
                $(this).addClass('active').removeClass('text-gray-500');
            });
            
            // Обработка клика по категориям
            $('.category-select').on('change', function() {
                console.log('Выбрана категория: ' + $(this).val());
            });
            
            // Переключение панели фильтров
            $('#filter-header, #filter-toggle').on('click', function() {
                $('#filter-panel').toggleClass('open');
                
                // Вращение иконки
                const icon = $('#filter-header i');
                if ($('#filter-panel').hasClass('open')) {
                    icon.removeClass('fa-chevron-down').addClass('fa-chevron-up');
                    $('.price-block').show(); // Показываем блок цены
                    $('#filter-panel').removeClass('closed');
                } else {
                    icon.removeClass('fa-chevron-up').addClass('fa-chevron-down');
                    $('.price-block').hide(); // Скрываем блок цены
                    // Полностью скрываем панель фильтров
                    setTimeout(function() {
                        $('#filter-panel').addClass('closed');
                    }, 300); // Задержка для завершения анимации
                }
            });
            
            // Инициализация панели фильтров как закрытой
            $('#filter-panel').removeClass('open').addClass('closed');
            $('#filter-header i').removeClass('fa-chevron-up').addClass('fa-chevron-down');
            $('.price-block').hide(); // Сразу скрываем блок цены при загрузке
            
            // Управление ползунками цены с моментальным обновлением
            const minRangeInput = $('.min-range');
            const maxRangeInput = $('.max-range');
            const priceProgress = $('.price-progress').eq(0);
            const minPriceText = $('#min-price');
            const maxPriceText = $('#max-price');
            
            function updatePriceRange() {
                const minVal = parseInt(minRangeInput.val());
                const maxVal = parseInt(maxRangeInput.val());
                
                if (maxVal - minVal < 500000) {
                    if ($(this).hasClass('min-range')) {
                        minRangeInput.val(maxVal - 500000);
                    } else {
                        maxRangeInput.val(minVal + 500000);
                    }
                } else {
                    const percent = (minVal / 10000000) * 100;
                    const maxPercent = 100 - ((maxVal / 10000000) * 100);
                    
                    priceProgress.css({
                        'left': percent + '%',
                        'right': maxPercent + '%'
                    });
                    
                    minPriceText.text(formatPrice(minVal) + ' KGZ');
                    maxPriceText.text(formatPrice(maxVal) + ' KGZ');
                }
            }
            
            // Вызываем функцию сразу для инициализации значений
            updatePriceRange();
            
            function formatPrice(price) {
                return new Intl.NumberFormat('ru-RU').format(price);
            }
            
            // Обновляем значения при движении ползунка
            minRangeInput.on('input', updatePriceRange);
            maxRangeInput.on('input', updatePriceRange);
            
            // Управление ползунками площади с моментальным обновлением
            const minAreaInput = $('.min-area');
            const maxAreaInput = $('.max-area');
            const areaProgress = $('.price-progress').eq(1);
            const minAreaText = $('#min-area');
            const maxAreaText = $('#max-area');
            
            function updateAreaRange() {
                const minVal = parseInt(minAreaInput.val());
                const maxVal = parseInt(maxAreaInput.val());
                
                if (maxVal - minVal < 10) {
                    if ($(this).hasClass('min-area')) {
                        minAreaInput.val(maxVal - 10);
                    } else {
                        maxAreaInput.val(minVal + 10);
                    }
                } else {
                    const percent = (minVal / 500) * 100;
                    const maxPercent = 100 - ((maxVal / 500) * 100);
                    
                    areaProgress.css({
                        'left': percent + '%',
                        'right': maxPercent + '%'
                    });
                    
                    minAreaText.text(minVal + ' м²');
                    maxAreaText.text(maxVal + ' м²');
                }
            }
            
            // Вызываем функцию сразу для инициализации значений
            updateAreaRange();
            
            minAreaInput.on('input', updateAreaRange);
            maxAreaInput.on('input', updateAreaRange);
            
            // Выбор количества комнат
            $('.room-btn').on('click', function() {
                // Если кнопка уже активна и пользователь нажимает на нее снова - снимаем выделение
                if ($(this).hasClass('active')) {
                    $(this).removeClass('active');
                } else {
                    // Иначе делаем эту кнопку активной
                    $('.room-btn').removeClass('active');
                    $(this).addClass('active');
                }
            });
            
            // Применение фильтров
            $('#apply-filters').on('click', function() {
                $('#filter-panel').removeClass('open');
                $('#filter-header i').removeClass('fa-chevron-up').addClass('fa-chevron-down');
                $('#applied-filters').addClass('visible');
                
                // В реальном приложении здесь был бы код для фильтрации объявлений
                console.log('Фильтры применены');
            });
            
            // Сброс фильтров
            $('#reset-filters, #reset-all-filters').on('click', function() {
                // Сбрасываем все значения фильтров на дефолтные
                minRangeInput.val(0);
                maxRangeInput.val(10000000);
                minAreaInput.val(0);
                maxAreaInput.val(500);
                $('.room-btn').removeClass('active');
                $('input[type="checkbox"]').prop('checked', false);
                $('select').each(function() {
                    $(this).find('option:first').prop('selected', true);
                });
                $('select').eq(1).find('option:last').prop('selected', true);
                
                // Обновляем визуальное отображение ползунков
                updatePriceRange();
                updateAreaRange();
                
                // Скрываем индикатор примененных фильтров
                $('#applied-filters').removeClass('visible');
                
                console.log('Фильтры сброшены');
            });
        });
        </script>
    </body>
</html>